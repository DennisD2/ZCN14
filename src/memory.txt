ZCN v1.4 - a free CP/M-like OS for the Amstrad NC100 Notepad.
Copyright (C) 1994-2022 Russell Marks. See `zcn.txt' for license details.

Allocated blocks of memory
--------------------------

This is a registration file for allocated blocks of memory. Don't
depend on a non-relocatable (i.e. not in the source code) block of
memory without describing it here.

(This doesn't apply to using sections of the TPA from the internal
commands in internal.z. They are effectively running as external
commands, so that's not a problem.)

[Try to keep the memory listed in order!]

0000h-00ffh mostly as in CP/M (described more fully in zcn.txt)

Some internal commands temporarily use parts of the TPA.

PCMCIA card memory or ramdisk memory is paged in at 4000h-7fffh when
reading it. The NC200's screen is also paged in here when being
modified.

e600h-e6ffh used for IM2 jump table (while computer is on)
e600h-e6ffh used to store old contents of b300h-b3ffh by powrhndl.z
e700h       also used for IM2 jump table
e701h-e7e3h extra font data, if installed by `keyb'
e7e4h-e7e6h reserved
e7e7h-e7e9h jump to interrupt handler
e7eah-e7fbh extra font data, if installed by `keyb'
e7fch-e7ffh reserved
e800h-e87fh 128-byte keyboard buffer
e880h-e97fh 256-byte scratch area used by `find free block'
             (note that this overwrites the ccp cmdline buffer!)
e900h-e97fh 128-byte cmdline buffer used by ccp
e980h-e9ffh 128-byte card read/write buffer (needed due to paging)
ea00h-eabfh internal stack used by bdos functions
eac0h-ecffh font data (`fontdata' set to ea00h)
ed00h-efffh 768-byte serial input buffer (while computer is on)
ed00h-efffh used to store old contents of b000h-b2ffh by powrhndl.z
f000h-ffffh used by screen (NC100/150) or reserved (NC200)

On the NC100, the 40h/41h/42/43h RAM pages are used, in that order,
filling 0000h to FFFFh.

On the NC150, it's the same, and 44h/45h/46h/47h are the ramdisk.

On the NC200, normally ZCN uses 40h/41h/42h/44h, with the screen being
in the high 8k of RAM page 43h (paged in when required, see term.z).
45h/46h/47h are the ramdisk. 4k remains in place where the NC100
screen was at ZCN's normal F000h, in case programs expected to be able
to use it (but any graphics drawn there won't be visible). The low 8k
of RAM page 43h should currently be unused, but it's best not to rely
on this in case e.g. it ever gets added to the ramdisk.
